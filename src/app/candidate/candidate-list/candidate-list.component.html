<div class="container-fluid mt-3 mb-4">
		<div class="col-lg-12">
			<div class="row">
				<div class="col-lg-9 px-0 pr-lg-2 mb-2 mb-lg-0">
					<div class="card border-light bg-white card proviewcard shadow-sm">
						<div class="card-header">Job Candidates
              <a type="button" rel="tooltip" (click)="open(candidate)" class="btn btn-outline-secondary btn-sm" data-original-title="" title="create candidate">+</a>  
                <span style="float:right">  Skills  <a type="button" (click)="open(skill)" rel="tooltip " class="btn btn-outline-secondary btn-sm" data-original-title="" title="create skill">+</a>  </span>
             
                  <div class="input-group input-group-sm mb-3">
                      <div class="input-group-prepend">
                        <select class="custom-select"  #param >
                            <option hidden>Search by</option>
                             <option value="name">NAME</option>
                             <option value="skill">SKILL</option>
                        </select>
                      </div>
                      <input type="text"  placeholder="Search..." #search  id="inputGroup-sizing-sm"
                             class="form-control" aria-label="Small" aria-describedby="inputGroup-sizing-sm">
                      <div class="input-group-append" id="btn">
                          <a (click)="retrieveCandidates(search.value, param.value)" class="btn btn-outline-secondary" type="button"> search</a>
                      </div>       
                  </div> 
            </div>

						<div class="card-body">
							<div class="col-lg-12 p-3 cardlist"  *ngFor="let candidate of candidates">
								<div class="col-lg-12">
                  <div class="row" style="height: 150px;">
                      <div class="col-lg-3">
                        <div class="row">
                          <div class="col-4 col-sm-3 col-sm-2" style="margin-left: 50px;">
                            <div class="row">
                                <img src="assets/img/person_outline.jpg" style="width:70px; height:70px;" class="mx-auto d-block mb-1 addcartimg">
                            </div>
                          </div>
                          <app-candidate-profile [candidate]="candidate"></app-candidate-profile> 
                        </div>
                      </div>
                      <div class="col-lg-8 align-self-start mt-2 mt-lg-0">
                        <div class="row"> 
                          <app-skill-details [candidate]="candidate"></app-skill-details>
                        </div>
                      </div>
                      <div class="col-lg-1  align-self-start mt-2 mt-lg-0">
                        <span><button class="btn btn-danger" (click)="deleteCandidate(candidate)" title="delete candidate">X</button></span>
                      </div>  
                  </div> 
                </div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

  <ng-template #candidate let-modal>
    <div class="modal-header">
      <h6 class="modal-title">Create new job candidate</h6>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
   
    <div class="modal-body">
      <div class="modal-body">
        <form [formGroup]="candidateForm" (ngSubmit)="submitCandidate()">
          <div class="form-group">
            <label for="fullName">Full name:</label>
            <input type="text" class="form-control" id="fullName" formControlName="fullName" name="fullName"
                  [ngClass]="{ 'is-invalid': submittedCan && f.fullName.errors }">
            <div *ngIf="submittedCan && f.fullName.errors" class="invalid-feedback">
                <div *ngIf="f.fullName.errors.required">Full name is required</div>
            </div>
          </div>
          <div class="form-group">
            <label for="birthdate">Date of birth:</label>
            <input type="date" name="birthdate" id="date" formControlName="birthdate" class="form-control"
                   [ngClass]="{ 'is-invalid': submittedCan && f.birthdate.errors }">
            <div *ngIf="submittedCan && f.birthdate.errors" class="invalid-feedback">
                <div *ngIf="f.birthdate.errors.required">Birthdate is required</div>
            </div>
          </div>
          <div class="form-group">
            <label for="contactNumber">Contact number:</label>
            <input type="text" class="form-control" id="contactNumber" formControlName="contactNumber" name="contactNumber"
                   [ngClass]="{ 'is-invalid': submittedCan && f.contactNumber.errors }">
            <div *ngIf="submittedCan && f.contactNumber.errors" class="invalid-feedback">
              <div *ngIf="f.contactNumber.errors.required">Contact number is required</div>
            </div>
          </div>
          <div class="form-group">
            <label for="contactNumber">Email:</label>
            <input type="text" class="form-control" id="email" formControlName="email" name="email"
                   [ngClass]="{ 'is-invalid': submittedCan && f.email.errors }">
            <div *ngIf="submittedCan && f.email.errors" class="invalid-feedback">
              <div *ngIf="f.email.errors.required">Email is required</div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Create</button>
          </div>
        </form>
      </div>
    </div>
  </ng-template>

  <ng-template #skill let-modal>
    <div class="modal-header">
      <h6 class="modal-title">Create new skill</h6>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="modal-body">
        <form [formGroup]="skillForm" (ngSubmit)="submitSkill()">
          <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" class="form-control" id="name" formControlName="name" name="name"
                   [ngClass]="{ 'is-invalid': submittedSkill && f2.name.errors }">
            <div *ngIf="submittedSkill && f2.name.errors" class="invalid-feedback">
              <div *ngIf="f2.name.errors.required">Name is required</div>
          </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success">Create</button>
          </div>
        </form>
      </div>
    </div>
  </ng-template>